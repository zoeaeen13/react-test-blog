(this["webpackJsonpreact-blog"]=this["webpackJsonpreact-blog"]||[]).push([[0],{35:function(n,t,e){"use strict";e.r(t);var r=e(0),c=e(1),o=e(20),i=e.n(o),a=e(4),u=e(7),s=e(5),l=e(2),j=e(3),d=Object(c.createContext)(null),b="token",f=function(n){localStorage.setItem(b,n)},x=function(){return localStorage.getItem(b)};function p(n){var t=new Date(n);return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()}var h="@media (max-width: 576px)",O="@media (max-width: 768px)";function v(){var n=Object(l.a)(["\n  box-sizing: border-box;\n  background: white;\n  border: 1px solid #212121;\n  color: #212121;\n\n  &:hover {\n    background: #eeeeee;\n    border-color: white;\n  }\n"]);return v=function(){return n},n}function g(){var n=Object(l.a)(["\n  background: #212121;\n  color: white;\n  padding: 8px 15px;\n  border-radius: 4px;\n  transition: all 0.2s ease-in;\n  cursor: pointer;\n\n  &:hover {\n    background: #414141;\n  }\n"]);return g=function(){return n},n}function m(){var n=Object(l.a)(["\n  margin: 0 10px;\n  border-radius: 4px;\n  padding: 8px 15px;\n  background: #212121;\n  color: white;\n  transition: all 0.3s ease-in;\n  text-decoration: none;\n\n  &:hover {\n    background: #414141;\n  }\n"]);return m=function(){return n},n}function w(){var n=Object(l.a)(["\n  color: #d1d1d1;\n  text-decoration: none;\n  padding: 10px;\n\n  &:hover {\n    color: #222222;\n    filter: brightness(1.05);\n  }\n\n  ",";\n"]);return w=function(){return n},n}function y(){var n=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n"]);return y=function(){return n},n}function k(){var n=Object(l.a)(['\n  margin: 0 30px;\n  color: #222222;\n  font-size: 28px;\n  font-weight: bold;\n  font-family: "Archivo Black", sans-serif;\n']);return k=function(){return n},n}function S(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid #eeeeee;\n  padding: 20px;\n\n  "," {\n    flex-direction: column;\n    align-items: center;\n  }\n"]);return S=function(){return n},n}var z=j.a.div(S(),h),C=j.a.div(k()),A=j.a.div(y()),P=Object(j.a)(u.b)(w(),(function(n){return n.$active&&"color: #222222;"})),E=Object(j.a)(u.b)(m()),M=j.a.button(g()),B=Object(j.a)(E)(v());function J(){var n=Object(s.g)(),t=Object(s.f)(),e="/post"===n.pathname,o=Object(c.useContext)(d),i=o.user,a=o.setUser;return Object(r.jsxs)(z,{children:[Object(r.jsxs)(A,{children:[Object(r.jsx)(C,{children:"LIDEMY"}),Object(r.jsx)(P,{to:"/",$active:"/"===n.pathname,children:"Home"}),Object(r.jsx)(P,{to:"/archive",$active:"/archive"===n.pathname,children:"Archive"}),Object(r.jsx)(P,{to:"/about",$active:"/about"===n.pathname,children:"About"})]}),Object(r.jsxs)("div",{children:[!i&&Object(r.jsx)(E,{to:"/register",children:"Sign up"}),!i&&Object(r.jsx)(E,{to:"/login",children:"Log in"}),i&&!e&&Object(r.jsx)(M,{onClick:function(){f(null),a(null),"/"!==n.pathname&&t.push("/")},children:"Sign out"}),i&&!e&&Object(r.jsx)(B,{to:"/post",children:"New Post"})]})]})}var N="https://student-json-api.lidemy.me",Y=function(){return fetch("".concat(N,"/posts?_sort=createdAt&_order=desc")).then((function(n){return n.json()}))},I=function(n){return fetch("".concat(N,"/users/").concat(n,"?_embed=posts")).then((function(n){return n.json()}))},L=function(){var n=x();return fetch("".concat(N,"/me"),{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))};function T(){var n=Object(l.a)(["\n  width: 150px;\n  margin: 0 auto;\n\n  img {\n    width: 50%;\n    object-fit: cover;\n  }\n"]);return T=function(){return n},n}function U(){var n=Object(l.a)(["\n  width: 150px;\n  color: #525252;\n  font-size: 14px;\n  overflow-wrap: break-word;\n\n  a {\n    color: #525252;\n    text-decoration: underline;\n  }\n"]);return U=function(){return n},n}function D(){var n=Object(l.a)(['\n  color: #222222;\n  font-size: 18px;\n  font-weight: bold;\n  font-family: "Archivo Black", sans-serif;\n']);return D=function(){return n},n}function $(){var n=Object(l.a)(['\n  margin: 10px 0;\n  font-family: "Montserrat", sans-serif;\n  color: #d1d1d1;\n']);return $=function(){return n},n}function _(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  position: fixed;\n  top: 50%;\n  margin: 0 8%;\n\n  "," {\n    display: none;\n  }\n"]);return _=function(){return n},n}var F=j.a.div(_(),O),H=j.a.h5($()),R=j.a.div(D()),W=j.a.p(U()),q=j.a.div(T());function G(){return Object(r.jsxs)(F,{children:[Object(r.jsx)(q,{children:Object(r.jsx)("img",{src:"images/avatar.png",alt:""})}),Object(r.jsx)(H,{children:"ABOUT"}),Object(r.jsx)(R,{children:"Lidemy"}),Object(r.jsxs)(W,{children:["\u4e00\u500b\u70ba\u521d\u5b78\u8005\u800c\u751f\u7684\u7dda\u4e0a\u7a0b\u5f0f\u8ab2\u7a0b\u5e73\u53f0",Object(r.jsx)("a",{href:"https://lidemy.com/",children:"https://lidemy.com/"})]})]})}function K(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: flex-start;\n  padding-bottom: 10vh;\n\n  "," {\n    flex-direction: column;\n    align-items: center;\n  }\n"]);return K=function(){return n},n}function Q(){var n=Object(l.a)(["\n  margin: 0 auto;\n  width: 50%;\n\n  "," {\n    width: 80%;\n  }\n"]);return Q=function(){return n},n}function V(){var n=Object(l.a)([""]);return V=function(){return n},n}function X(){var n=Object(l.a)(['\n  margin: 20px 0;\n  padding: 10px 0;\n  color: #818181;\n  font-size: 28px;\n  text-decoration: underline;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n']);return X=function(){return n},n}function Z(){var n=Object(l.a)(['\n  margin: 10px 0;\n  border-radius: 4px;\n  padding: 2px 5px;\n  color: #212121;\n  font-size: 20px;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n']);return Z=function(){return n},n}function nn(){var n=Object(l.a)(['\n  color: #212121;\n  font-size: 22px;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  letter-spacing: 0.05em;\n  line-height: 1.5;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n']);return nn=function(){return n},n}function tn(){var n=Object(l.a)(["\n  font-size: 16px;\n  color: #212121;\n  letter-spacing: 0.1em;\n"]);return tn=function(){return n},n}function en(){var n=Object(l.a)(["\n  border: 1px solid #d1d1d1;\n  background: #fcfcfc;\n  border-radius: 10px;\n  padding: 20px;\n  width: 25%;\n  transition: all 0.3s ease-in;\n\n  &:hover {\n    transform: scale(1.04);\n  }\n\n  & + & {\n    margin-left: 20px;\n  }\n\n  "," {\n    width: 80%;\n    margin-bottom: 20px;\n\n    & + & {\n      margin-left: 0px;\n    }\n  }\n"]);return en=function(){return n},n}function rn(){var n=Object(l.a)(['\n  color: #1a8917;\n  font-size: 14px;\n  font-family: "Montserrat", sans-serif;\n  text-decoration: none;\n']);return rn=function(){return n},n}function cn(){var n=Object(l.a)(['\n  margin: 5px 0;\n  color: #d1d1d1;\n  font-size: 16px;\n  font-family: "Montserrat", sans-serif;\n']);return cn=function(){return n},n}function on(){var n=Object(l.a)(['\n  color: #212121;\n  font-size: 22px;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  letter-spacing: 0.05em;\n  line-height: 1.5;\n  text-overflow: ellipsis;\n  word-wrap: break-word;\n']);return on=function(){return n},n}function an(){var n=Object(l.a)(['\n  margin: 10px 0;\n  border: 1px solid #212121;\n  border-radius: 4px;\n  padding: 2px 5px;\n  color: #212121;\n  font-size: 14px;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  text-decoration: none;\n']);return an=function(){return n},n}function un(){var n=Object(l.a)(['\n  margin: 10px 0;\n  color: #212121;\n  font-size: 32px;\n  font-weight: bold;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  letter-spacing: 0.1em;\n']);return un=function(){return n},n}function sn(){var n=Object(l.a)(['\n  color: #212121;\n  font-size: 22px;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  letter-spacing: 0.05em;\n  line-height: 1.5;\n  text-overflow: ellipsis;\n  word-wrap: break-word;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n']);return sn=function(){return n},n}function ln(){var n=Object(l.a)(['\n  margin: 5px 0;\n  color: #212121;\n  font-size: 20px;\n  font-weight: bold;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  letter-spacing: 0.1em;\n  text-decoration: none;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n']);return ln=function(){return n},n}function jn(){var n=Object(l.a)(['\n  margin: 5px 0;\n  color: #212121;\n  font-size: 32px;\n  font-weight: bold;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  letter-spacing: 0.1em;\n  text-decoration: none;\n']);return jn=function(){return n},n}function dn(){var n=Object(l.a)(["\n  border-bottom: 1px solid #eeeeee;\n  margin-bottom: 20px;\n  padding: 25px 0;\n"]);return dn=function(){return n},n}var bn=j.a.div(dn()),fn=Object(j.a)(u.b)(jn()),xn=Object(j.a)(u.b)(ln()),pn=j.a.p(sn()),hn=j.a.h2(un()),On=Object(j.a)(u.b)(an()),vn=j.a.p(on()),gn=j.a.h5(cn()),mn=Object(j.a)(u.b)(rn()),wn=j.a.div(en(),h),yn=j.a.span(tn()),kn=j.a.p(nn()),Sn=j.a.h4(Z()),zn=j.a.h3(X()),Cn=j.a.div(V()),An=j.a.div(Q(),O),Pn=j.a.div(K(),h);function En(n){var t=n.post,e=p(t.createdAt);return Object(r.jsxs)(bn,{children:[Object(r.jsx)(gn,{children:e}),Object(r.jsx)(fn,{to:"/posts/".concat(t.id),children:t.title}),Object(r.jsx)(pn,{children:t.body}),Object(r.jsx)(mn,{to:"/posts/".concat(t.id),children:"Read more"})]})}function Mn(n){var t=n.post,e=p(t.createdAt);return Object(r.jsxs)(bn,{children:[Object(r.jsx)(gn,{children:e}),Object(r.jsx)(hn,{children:t.title}),t.user.nickname&&Object(r.jsx)(On,{to:"/user/".concat(t.userId),children:t.user.nickname}),Object(r.jsx)(vn,{children:t.body})]})}function Bn(n){var t=n.order,e=n.post,c=p(e.createdAt);return Object(r.jsxs)(wn,{children:[Object(r.jsxs)(yn,{children:["#",t]}),Object(r.jsx)(xn,{to:"/posts/".concat(e.id),children:e.title}),Object(r.jsx)(gn,{children:c})]})}function Jn(n){var t=n.post,e=p(t.createdAt);return Object(r.jsxs)(bn,{children:[Object(r.jsx)(fn,{to:"/posts/".concat(t.id),children:t.title}),Object(r.jsx)(gn,{children:e}),Object(r.jsx)(kn,{children:t.body})]})}var Nn=function(){var n=Object(c.useState)([]),t=Object(a.a)(n,2),e=t[0],o=t[1];return Object(c.useEffect)((function(){Y().then((function(n){return o(n)}))}),[]),Object(r.jsxs)(Cn,{children:[Object(r.jsx)(G,{}),Object(r.jsx)(An,{children:e&&e.map((function(n){return Object(r.jsx)(En,{post:n},n.id)}))})]})};function Yn(){var n=Object(l.a)(["\n  width: 150px;\n  margin: 30px;\n\n  img {\n    width: 100%;\n    object-fit: cover;\n  }\n"]);return Yn=function(){return n},n}function In(){var n=Object(l.a)(["\n  color: #525252;\n  font-size: 16px;\n  overflow-wrap: break-word;\n\n  a {\n    color: #525252;\n    text-decoration: underline;\n  }\n  span {\n    color: #ca4141;\n  }\n"]);return In=function(){return n},n}function Ln(){var n=Object(l.a)(['\n  color: #222222;\n  font-size: 30px;\n  font-weight: bold;\n  font-family: "Archivo Black", sans-serif;\n']);return Ln=function(){return n},n}function Tn(){var n=Object(l.a)(['\n  margin: 10px 0;\n  font-family: "Montserrat", sans-serif;\n  color: #d1d1d1;\n']);return Tn=function(){return n},n}function Un(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 10vh auto;\n  padding: 20px;\n  width: 60%;\n"]);return Un=function(){return n},n}var Dn=j.a.div(Un()),$n=j.a.h5(Tn()),_n=j.a.div(Ln()),Fn=j.a.p(In()),Hn=j.a.div(Yn());var Rn=function(){return Object(r.jsxs)(Dn,{children:[Object(r.jsx)(Hn,{children:Object(r.jsx)("img",{src:"images/avatar.png",alt:""})}),Object(r.jsxs)("div",{children:[Object(r.jsx)($n,{children:"ABOUT"}),Object(r.jsx)(_n,{children:"\u7b2c\u56db\u671f\u7a0b\u5f0f\u5c0e\u5e2b\u8a08\u756b"}),Object(r.jsxs)(Fn,{children:["\u4e0d\u558a\u53e3\u865f\u4e5f\u4e0d\u8a87\u5927\u6210\u6548\uff0c\u958b\u653e\u900f\u660e\u7684 ",Object(r.jsx)("span",{children:"\u7db2\u9801\u524d\u5f8c\u7aef\u7dda\u4e0a\u5b78\u7fd2\u8a08\u756b"}),Object(r.jsx)("br",{}),"\u8a66\u8457\u7528\u516d\u500b\u6708\u7684\u6642\u9593\uff0c\u57f9\u990a\u51fa\u4e00\u500b\u627e\u5f97\u5230\u5de5\u4f5c\u4e14\u57fa\u790e\u7d2e\u5be6\u7684\u7db2\u9801\u5de5\u7a0b\u5e2b",Object(r.jsx)("br",{}),Object(r.jsx)("a",{href:"https://bootcamp.lidemy.com/index.html",children:"https://bootcamp.lidemy.com"})]})]})]})};function Wn(){var n=Object(l.a)(['\n  color: #1a8917;\n  font-size: 14px;\n  font-family: "Montserrat", sans-serif;\n  text-decoration: none;\n']);return Wn=function(){return n},n}function qn(){var n=Object(l.a)(["\n  border: none;\n  background: #212121;\n  text-decoration: none;\n  margin: 20px 0;\n  padding: 8px 15px;\n  border-radius: 4px;\n  transition: all 0.3s ease-in-out;\n  cursor: pointer;\n  color: white;\n\n  &:hover {\n    transform: scale(1.05);\n  }\n"]);return qn=function(){return n},n}function Gn(){var n=Object(l.a)(["\n  font-size: 16px;\n  color: #ca3e47;\n"]);return Gn=function(){return n},n}function Kn(){var n=Object(l.a)(["\n  margin-bottom: 20px;\n  border: none;\n  border-bottom: 1px solid ",";\n  padding: 10px;\n  width: 20%;\n\n  &:focus {\n    outline: none;\n  }\n"]);return Kn=function(){return n},n}function Qn(){var n=Object(l.a)(["\n  margin: 10px 0;\n  font-size: 14px;\n  font-weight: 300;\n  color: ",";\n"]);return Qn=function(){return n},n}function Vn(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return Vn=function(){return n},n}function Xn(){var n=Object(l.a)(["\n  font-size: 20px;\n  color: #222222;\n"]);return Xn=function(){return n},n}function Zn(){var n=Object(l.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  color: #222222;\n"]);return Zn=function(){return n},n}function nt(){var n=Object(l.a)(["\n  text-align: center;\n"]);return nt=function(){return n},n}var tt=j.a.div(nt()),et=j.a.h2(Zn()),rt=j.a.p(Xn()),ct=j.a.div(Vn()),ot=j.a.h6(Qn(),(function(n){return n.verify?"#ca3e47":"#222222"})),it=j.a.input(Kn(),(function(n){return n.verify?"#ca3e47":"#222222"})),at=j.a.h5(Gn()),ut=j.a.button(qn()),st=Object(j.a)(u.b)(Wn());var lt=function(){var n=Object(c.useContext)(d).setUser,t=Object(c.useState)("zoeaeen13"),e=Object(a.a)(t,2),o=e[0],i=e[1],u=Object(c.useState)("Lidemy"),l=Object(a.a)(u,2),j=l[0],b=l[1],x=Object(c.useState)(!1),p=Object(a.a)(x,2),h=p[0],O=p[1],v=Object(c.useState)(null),g=Object(a.a)(v,2),m=g[0],w=g[1],y=Object(s.f)(),k=function(n){w(null),"account"===n.target.name&&i(n.target.value),"password"===n.target.name&&b(n.target.value)};return Object(r.jsxs)(tt,{children:[Object(r.jsx)(et,{children:"Sign in with Account"}),Object(r.jsx)(rt,{children:"Enter the account and password."}),m&&Object(r.jsx)(at,{children:m}),Object(r.jsxs)(ct,{children:[Object(r.jsx)(ot,{verify:h&&!o,children:"Your account"}),Object(r.jsx)(it,{name:"account",type:"text",value:o,onChange:k,verify:h&&!o}),Object(r.jsx)(ot,{verify:h&&!j,children:"Your password"}),Object(r.jsx)(it,{name:"password",type:"password",value:j,onChange:k,verify:h&&!j}),Object(r.jsx)(ut,{onClick:function(){if(O(!0),w(null),!o||!j)return w("Please fill in the blank input box.");(function(n,t){return fetch("".concat(N,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:n,password:t})}).then((function(n){return n.json()}))})(o,j).then((function(t){if(!t.ok)return w(t.message);f(t.token),L().then((function(t){if(!t.ok)return w(t.message);n(t.data),y.push("/")}))}))},children:"Continue"}),Object(r.jsx)(st,{to:"/",children:"back to Home"})]})]})};var jt=function(){var n=Object(c.useContext)(d).setUser,t=Object(c.useState)(""),e=Object(a.a)(t,2),o=e[0],i=e[1],u=Object(c.useState)(""),l=Object(a.a)(u,2),j=l[0],b=l[1],x="Lidemy",p=Object(c.useState)(!1),h=Object(a.a)(p,2),O=h[0],v=h[1],g=Object(c.useState)(null),m=Object(a.a)(g,2),w=m[0],y=m[1],k=Object(s.f)(),S=function(n){y(null),"username"===n.target.name&&i(n.target.value),"nickname"===n.target.name&&b(n.target.value)};return Object(r.jsxs)(tt,{children:[Object(r.jsx)(et,{children:"Create a new account"}),Object(r.jsx)(rt,{children:"Enter the your nickname and username."}),Object(r.jsx)(rt,{children:"For testing, the password is set as default value 'Lidemy'."}),w&&Object(r.jsx)(at,{children:w}),Object(r.jsxs)(ct,{children:[Object(r.jsx)(ot,{verify:O&&!j,children:"Your nickname"}),Object(r.jsx)(it,{name:"nickname",type:"text",value:j,onChange:S,verify:O&&!j}),Object(r.jsx)(ot,{verify:O&&!o,children:"Your username"}),Object(r.jsx)(it,{name:"username",type:"text",value:o,onChange:S,verify:O&&!o}),Object(r.jsx)(ot,{children:"Your password"}),Object(r.jsx)(it,{name:"password",type:"password",value:x,readonly:!0}),Object(r.jsx)(ut,{onClick:function(){if(v(!0),y(null),!o||!j)return y("Please fill in the blank input box.");(function(n,t,e){return fetch("".concat(N,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:n,username:t,password:e})}).then((function(n){return n.json()}))})(j,o,x).then((function(t){if(!t.ok)return y(t.message);f(t.token),L().then((function(t){if(!t.ok)return y(t.message);n(t.data),k.push("/")}))}))},children:"Continue"})]})]})};function dt(){var n=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  right: 50px;\n  margin: 20px 10px;\n  border: none;\n  border-radius: 4px;\n  padding: 8px 14px;\n  font-size: 13px;\n  font-weight: bold;\n  background: #03a87c;\n  color: white;\n  cursor: pointer;\n  text-decoration: none;\n\n  &:focus {\n    outline: none;\n  }\n\n  &:hover {\n    filter: brightness(1.1);\n  }\n"]);return dt=function(){return n},n}function bt(){var n=Object(l.a)(["\n  font-size: 16px;\n  color: #ca3e47;\n"]);return bt=function(){return n},n}function ft(){var n=Object(l.a)(["\n  margin: 20px auto;\n  color: #292929;\n  width: 80%;\n  border: 1px solid #d1d1d1;\n  border-radius: 5px;\n  font-size: 18px;\n  letter-spacing: 1px;\n  padding: 20px;\n\n  &:focus {\n    outline: none;\n  }\n"]);return ft=function(){return n},n}function xt(){var n=Object(l.a)(["\n  font-weight: bold;\n  font-size: 30px;\n  letter-spacing: 1px;\n  margin: 20px auto;\n  box-sizing: border-box;\n  border: none;\n  padding: 5px;\n  color: #292929;\n  width: 80%;\n\n  &:focus {\n    outline: none;\n  }\n"]);return xt=function(){return n},n}function pt(){var n=Object(l.a)(["\n  text-align: center;\n  margin: 6vh auto;\n  border: none;\n  overflow: hidden;\n  border-radius: 2px;\n  box-sizing: border-box;\n  width: 60%;\n\n  "," {\n    width: 90%;\n  }\n"]);return pt=function(){return n},n}function ht(){var n=Object(l.a)(["\n  position: relative;\n"]);return ht=function(){return n},n}var Ot=j.a.form(ht()),vt=j.a.div(pt(),O),gt=j.a.input(xt()),mt=j.a.textarea(ft()),wt=j.a.h5(bt()),yt=j.a.button(dt());var kt=function(){var n=Object(s.f)(),t=Object(c.useState)(""),e=Object(a.a)(t,2),o=e[0],i=e[1],u=Object(c.useState)(""),l=Object(a.a)(u,2),j=l[0],d=l[1],b=Object(c.useState)(null),f=Object(a.a)(b,2),p=f[0],h=f[1],O=function(n){h(null),"title"===n.target.name&&i(n.target.value),"content"===n.target.name&&d(n.target.value)};return Object(r.jsxs)(Ot,{onSubmit:function(t){if(t.preventDefault(),!o||!j)return h("Please fill in the blank for your article.");(function(n,t){var e=x();return fetch("".concat(N,"/posts"),{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer ".concat(e)},body:JSON.stringify({title:n,body:t})}).then((function(n){return n.json()}))})(o,j).then((function(t){if(!t.id)return h(t.message);n.push("/")}))},children:[Object(r.jsxs)(vt,{children:[Object(r.jsx)(gt,{name:"title",placeholder:"Title",value:o,onChange:O}),Object(r.jsx)(mt,{name:"content",placeholder:"Write a story...",rows:"10",cols:"50",value:j,onChange:O}),p&&Object(r.jsx)(wt,{children:p})]}),Object(r.jsx)(yt,{children:"Publish"})]})};var St=function(){var n=Object(s.h)().slug,t=Object(c.useState)(null),e=Object(a.a)(t,2),o=e[0],i=e[1],u=Object(c.useState)(0),l=Object(a.a)(u,2),j=l[0],d=l[1],b=Object(c.useState)(null),f=Object(a.a)(b,2),x=f[0],p=f[1];return console.log("rela",x),Object(c.useEffect)((function(){var t;(t=n,fetch("".concat(N,"/posts?id=").concat(t,"&_expand=user")).then((function(n){return n.json()}))).then((function(n){i(n[0]),d(n[0].userId)}))}),[n]),Object(c.useEffect)((function(){I(j).then((function(t){if(t.id){var e=t.posts.filter((function(t){return t.id!==Number(n)}));e.length>0&&p(e.filter((function(n,t){return t<3})))}}))}),[n,j]),Object(r.jsxs)(Cn,{children:[Object(r.jsx)(G,{}),Object(r.jsxs)(An,{children:[o&&Object(r.jsx)(Mn,{post:o}),Object(r.jsx)(Sn,{children:"\u540c\u7cfb\u5217\u6587\u7ae0\u9084\u6709..."}),Object(r.jsxs)(Pn,{children:[x&&x.map((function(n,t){return Object(r.jsx)(Bn,{order:t+1,post:n},n.id)})),!x&&Object(r.jsx)("div",{children:"no related posts"})]})]})]})};function zt(){var n=Object(l.a)(["\n  width: 40px;\n  border: none;\n  background: transparent;\n  transition: 0.2s all ease-in;\n  cursor: pointer;\n  margin: 0 10px;\n\n  img {\n    width: 100%;\n    object-fit: cover;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &:hover {\n    transform: scale(1.3);\n  }\n"]);return zt=function(){return n},n}function Ct(){var n=Object(l.a)(['\n  color: #212121;\n  font-size: 18px;\n  font-weight: bold;\n  font-family: "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  letter-spacing: 0.1em;\n  color: #818181;\n']);return Ct=function(){return n},n}function At(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 20px;\n  width: 80%;\n  backgroudn: red;\n"]);return At=function(){return n},n}var Pt=j.a.div(At()),Et=j.a.h5(Ct()),Mt=j.a.button(zt());function Bt(n){var t=n.current,e=n.total,c=n.handleChangePage;return Object(r.jsxs)(Pt,{children:[1!==t&&Object(r.jsx)(Mt,{onClick:function(){c(t-1)},children:Object(r.jsx)("img",{alt:"",src:"./images/left-arrow.png"})}),Object(r.jsxs)(Et,{children:["\u76ee\u524d\u7b2c ",t," \u9801"]}),t!==e&&Object(r.jsx)(Mt,{onClick:function(){c(t+1)},children:Object(r.jsx)("img",{alt:"",src:"./images/right-arrow.png"})})]})}var Jt=function(){var n=Object(s.h)().slug,t=Object(c.useState)([]),e=Object(a.a)(t,2),o=e[0],i=e[1],u=Object(c.useState)(null),l=Object(a.a)(u,2),j=l[0],d=l[1],b=Object(c.useState)([]),f=Object(a.a)(b,2),x=f[0],p=f[1],h=Object(c.useState)(0),O=Object(a.a)(h,2),v=O[0],g=O[1],m=Object(c.useState)(0),w=Object(a.a)(m,2),y=w[0],k=w[1],S=Object(c.useState)([]),z=Object(a.a)(S,2),C=z[0],A=z[1];return Object(c.useEffect)((function(){n?I(n).then((function(n){n.posts.length>0&&i(n.posts.reverse()),d({nickname:n.nickname,postNum:n.posts.length})})):Y().then((function(n){if(n.length>0){var t=Math.ceil(n.length/5);!n.length%5&&(t+=1),p(n),g(1),k(t)}}))}),[n]),Object(c.useEffect)((function(){var n=5*(v-1);A(x.slice(n,n+5))}),[x,v]),Object(r.jsxs)(Cn,{children:[Object(r.jsx)(G,{}),Object(r.jsxs)(An,{children:[!n&&Object(r.jsx)(zn,{children:"\u6240\u6709\u6587\u7ae0"}),n&&j&&Object(r.jsxs)(zn,{children:["'",j.nickname,"' \u76ee\u524d\u767c\u8868\u4e86 ",j.postNum," \u7bc7\u6587\u7ae0"]}),C&&C.map((function(n){return Object(r.jsx)(Jn,{post:n},n.id)})),n&&o.map((function(n){return Object(r.jsx)(Jn,{post:n},n.id)})),!n&&C&&y&&Object(r.jsx)(Bt,{current:v,total:y,handleChangePage:function(n){g(n)}})]})]})};var Nt=function(){var n=Object(c.useState)(null),t=Object(a.a)(n,2),e=t[0],o=t[1];return Object(c.useEffect)((function(){x()&&L().then((function(n){if(!n.ok)return f(null);o(n.data)}))}),[]),Object(r.jsx)(d.Provider,{value:{user:e,setUser:o},children:Object(r.jsx)("div",{children:Object(r.jsxs)(u.a,{children:[Object(r.jsx)(J,{}),Object(r.jsxs)(s.c,{children:[Object(r.jsx)(s.a,{exact:!0,path:"/",children:Object(r.jsx)(Nn,{})}),Object(r.jsx)(s.a,{path:"/about",children:Object(r.jsx)(Rn,{})}),Object(r.jsx)(s.a,{path:"/login",children:Object(r.jsx)(lt,{})}),Object(r.jsx)(s.a,{path:"/register",children:Object(r.jsx)(jt,{})}),Object(r.jsx)(s.a,{path:"/post",children:Object(r.jsx)(kt,{})}),Object(r.jsx)(s.a,{path:"/archive",children:Object(r.jsx)(Jt,{})}),Object(r.jsx)(s.a,{path:"/posts/:slug",children:Object(r.jsx)(St,{})}),Object(r.jsx)(s.a,{path:"/user/:slug",children:Object(r.jsx)(Jt,{})})]})]})})})};i.a.render(Object(r.jsx)(Nt,{}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.65718a4b.chunk.js.map